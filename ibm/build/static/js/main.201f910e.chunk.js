(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(3),l=n(5),c=n(4),s=n(6),i=n(1),o=n(0),u=n.n(o),m=n(8);function d(e){var t=e.paramsObj,n=t.label.toString(),a=t.id.toString();return u.a.createElement("div",{className:"input-group mb-3"},u.a.createElement("div",{className:"input-group-prepend"},u.a.createElement("span",{className:"input-group-text"},n)),u.a.createElement("input",{id:a,type:"text",spellCheck:"false",autoComplete:"off",className:"form-control",placeholder:n,"aria-label":n}))}var g="http://176.119.156.90/";var p={url:"http://176.119.156.90/"};function b(){return p}function E(e){return u.a.createElement("div",null,u.a.createElement("h2",null,"Sign In"),u.a.createElement("br",null),u.a.createElement(d,{paramsObj:{id:"loginField",label:"Login"}}),u.a.createElement(d,{paramsObj:{id:"passwordField",label:"Password"}}),u.a.createElement("button",{onClick:B,type:"button",className:"btn btn-primary btn-lg",id:"signInBtn"},"Sign In"),"\xa0",u.a.createElement("button",{onClick:_,id:"clearSignInFormBtn",type:"button",className:"btn btn-secondary btn-lg"},"Clear"),u.a.createElement("br",null),u.a.createElement("br",null))}var h="Login is empty.",y="Password is empty.",v="Login contains bad chars.",f="Password contains bad chars.",S="Login is very long.",O="Password is very long.",T=15,N="Bad login or password.";function I(e){return alert(e.toString()),!1}function C(e){var t="abcdefghijklmnopqrstuvwxyz".toUpperCase()+"1234567890",n=e.toUpperCase();return-1!==t.indexOf(n)}function k(e){for(var t=e.toUpperCase(),n=0;n<t.length;n++){if(!1===C(t.charAt(n)))return!1}return!0}function _(){var e=document.getElementById("loginField"),t=document.getElementById("passwordField");e.value="",t.value=""}function B(){var e=document.getElementById("loginField"),t=document.getElementById("passwordField"),n=e.value.toString(),a=t.value.toString();return 0===n.length?I(h):0===a.length?I(y):!1===k(n)?I(v):!1===k(a)?I(f):n.length>T?I(S):a.length>T?I(O):void function(e,t,n){var a=g+e;function r(e){e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=e.responseText.toString();n(t)}}}if(null===t){var l=new XMLHttpRequest;l.open("GET",a,!0),l.setRequestHeader("Content-Type","application/json;charset=UTF-8"),l.send(null),r(l)}if(null!==t){var c=new XMLHttpRequest;c.open("POST",a,!0),c.setRequestHeader("Content-Type","application/json;charset=UTF-8");var s=JSON.stringify(t);c.send(s.toString()),r(c)}}("api/database/user/correct",{login:n,password:a},function(e){var t=JSON.parse(e);"USER_NOT_CORRECT"===t.result?alert(N):(b().departmentDescription=t.departmentDescription.toString(),b().login=t.login.toString(),b().userID=t.id.toString(),b.mainContent.changeState(2))})}function j(e,t){var n=b().url+e.toString(),a=new XMLHttpRequest;a.open("GET",n,!0),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send(null),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var e=a.responseText;t(e.toString())}}}function R(e,t,n){var a=b().url+e.toString(),r=new XMLHttpRequest;r.open("POST",a,!0),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.send(t.toString()),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var e=r.responseText;n(e.toString())}}}function w(e){var t=e.paramsObj,n=t.source_name,a=t.source_description,r=t.source_number,l=t.source_image;return u.a.createElement("div",{style:{background:"#FFFFFF",padding:10,marginTop:7,marginBottom:7}},u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",{style:{paddingRight:20}},"\u200b",u.a.createElement("picture",null,u.a.createElement("img",{alt:"Thing",src:l,width:100,height:100,className:"rounded float-left"}),"\u200b")),u.a.createElement("td",{style:{paddingRight:20}},u.a.createElement("button",{type:"button",onClick:function(){var e=prompt("Input number:","0"),n=parseInt(t.source_id),a=parseInt(e),r=parseInt(b().userID);if(a<0)alert("Negative number is not allowed.");else{var l={user_id:r,source_id:n,number_value:a};R("api/database/source/take",JSON.stringify(l),function(e){var t=JSON.parse(e).result;"TAKE_OK"===t&&alert("Taking source success."),"NOT_ENOUGH_SOURCE"===t&&alert("Not enough source."),document.getElementById("allThingsBtn").click()})}},id:"buttonTake_"+t.source_id,className:"btn btn-primary btn-lg"},"Take")),u.a.createElement("td",null,u.a.createElement("b",null,"Name:"),"\xa0",n,u.a.createElement("br",null),u.a.createElement("b",null,"Description:"),"\xa0",a,u.a.createElement("br",null),u.a.createElement("b",null,"Number:"),"\xa0",u.a.createElement("span",{className:"thingCounterClass"},r),u.a.createElement("br",null))))))}var L=10;function F(){var e=b().thingsArr,t=e.map(function(e){return L++,u.a.createElement(w,{paramsObj:e,key:"allThingsKey"+L})});return e.length>0?u.a.createElement("div",{id:"allThingsBox"},u.a.createElement("br",null),u.a.createElement("h2",null,"All things"),u.a.createElement("br",null),t):u.a.createElement("div",{id:"allThingsBox"},u.a.createElement("br",null),u.a.createElement("h2",null,"All things"),u.a.createElement("br",null),u.a.createElement("div",{id:"emptyListBoxWithMessage",className:"alert alert-success",role:"alert"},u.a.createElement("b",null,"List is empty")))}function U(e){var t=e.paramsObj;return u.a.createElement("div",{style:{background:"#FFFFFF",padding:10,marginTop:7,marginBottom:7}},u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",{style:{paddingRight:20}},"\u200b",u.a.createElement("picture",null,u.a.createElement("img",{alt:"Thing",src:t.sourceImage,width:100,height:100,className:"rounded float-left"}),"\u200b")),u.a.createElement("td",{style:{paddingRight:20}},u.a.createElement("button",{onClick:function(){var e=parseInt(t.sourceId),n=parseInt(b().userID),a=prompt("Input number:","0"),r=parseInt(a);r<0?alert("Negative number is not allowed."):R("api/database/source/return",JSON.stringify({user_id:n,source_id:e,number_value:r}),function(e){var t=JSON.parse(e).result;"RETURN_SOURCE_OK"===t&&alert("Returning source success."),"USER_NOT_HAVE_ENOUGH_SOURCE"===t&&alert("You have not enough source"),document.getElementById("myThingsBtn").click()})},type:"button",id:"returnBtn_"+t.sourceId,className:"btn btn-primary btn-lg"},"Return")),u.a.createElement("td",null,u.a.createElement("b",null,"Name:"),"\xa0",t.sourceName,u.a.createElement("br",null),u.a.createElement("b",null,"Description:"),"\xa0",t.sourceDescription,u.a.createElement("br",null),u.a.createElement("b",null,"Have:"),"\xa0",u.a.createElement("span",{className:"returnThingHaveNumberClass"},t.sourceHave),u.a.createElement("br",null))))))}var D=10;function H(){var e=b().returnThingsArray,t=e.map(function(e){return D++,u.a.createElement(U,{paramsObj:e,key:"allReturningThingsKey"+D})});return e.length>0?u.a.createElement("div",{id:"myOwnThingsToReturn"},u.a.createElement("br",null),u.a.createElement("h2",null,"My things"),u.a.createElement("br",null),t):u.a.createElement("div",{id:"myOwnThingsToReturn"},u.a.createElement("br",null),u.a.createElement("h2",null,"My things"),u.a.createElement("br",null),u.a.createElement("div",{id:"emptyReturningListMessageBox",className:"alert alert-success",role:"alert"},u.a.createElement("b",null,"List is empty")))}var x=function(e){function t(e){var n;return Object(a.a)(this,t),n=Object(l.a)(this,Object(c.a)(t).call(this,e)),b().mainPageContent=Object(i.a)(Object(i.a)(n)),n.state={number:0},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"changeState",value:function(e){this.setState({number:parseInt(e)})}},{key:"render",value:function(){var e=b().departmentDescription.toString(),t=b().login.toString();return 0===this.state.number?u.a.createElement("div",null,u.a.createElement("h2",null,"User account"),u.a.createElement("br",null),u.a.createElement("p",null,u.a.createElement("b",null,"Login:",u.a.createElement("br",null)),u.a.createElement("span",{id:"userLogin",style:{paddingLeft:10}},t)),u.a.createElement("p",null,u.a.createElement("b",null,"Department:",u.a.createElement("br",null)),u.a.createElement("span",{id:"departmentDescription",style:{paddingLeft:10}},e)),u.a.createElement("br",null),u.a.createElement("button",{onClick:M,id:"allThingsBtn",type:"button",className:"btn btn-secondary btn-lg"},"All things"),"\xa0",u.a.createElement("button",{onClick:A,id:"myThingsBtn",type:"button",className:"btn btn-secondary btn-lg"},"My things"),u.a.createElement("br",null),u.a.createElement("br",null)):1===this.state.number?u.a.createElement("div",null,u.a.createElement("h2",null,"User account"),u.a.createElement("br",null),u.a.createElement("p",null,u.a.createElement("b",null,"Login:",u.a.createElement("br",null)),u.a.createElement("span",{id:"userLogin",style:{paddingLeft:10}},t)),u.a.createElement("p",null,u.a.createElement("b",null,"Department:",u.a.createElement("br",null)),u.a.createElement("span",{id:"departmentDescription",style:{paddingLeft:10}},e)),u.a.createElement("br",null),u.a.createElement("button",{onClick:M,id:"allThingsBtn",type:"button",className:"btn btn-secondary btn-lg"},"All things"),"\xa0",u.a.createElement("button",{onClick:A,id:"myThingsBtn",type:"button",className:"btn btn-secondary btn-lg"},"My things"),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(F,null),u.a.createElement("br",null)):2===this.state.number?u.a.createElement("div",null,u.a.createElement("h2",null,"User account"),u.a.createElement("br",null),u.a.createElement("p",null,u.a.createElement("b",null,"Login:",u.a.createElement("br",null)),u.a.createElement("span",{id:"userLogin",style:{paddingLeft:10}},t)),u.a.createElement("p",null,u.a.createElement("b",null,"Department:",u.a.createElement("br",null)),u.a.createElement("span",{id:"departmentDescription",style:{paddingLeft:10}},e)),u.a.createElement("br",null),u.a.createElement("button",{onClick:M,id:"allThingsBtn",type:"button",className:"btn btn-secondary btn-lg"},"All things"),"\xa0",u.a.createElement("button",{onClick:A,id:"myThingsBtn",type:"button",className:"btn btn-secondary btn-lg"},"My things"),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(H,null),u.a.createElement("br",null)):void 0}}]),t}(o.Component);function M(){j("api/database/source/get",function(e){b().thingsArr=JSON.parse(e.toString()),b().mainPageContent.changeState(1)})}function A(){var e=parseInt(b().userID),t=[];j("api/database/source/user/".concat(e,"/get"),function(e){j("api/database/source/get",function(n){for(var a=JSON.parse(e),r=JSON.parse(n),l=function(e){r.forEach(function(n){parseInt(a[e].have_source)===parseInt(n.source_id)&&t.push({sourceId:parseInt(n.source_id),sourceName:n.source_name,sourceDescription:n.source_description,sourceHave:parseInt(a[e].have_number),sourceImage:n.source_image})})},c=0;c<a.length;c++)l(c);b().returnThingsArray=t,b().mainPageContent.changeState(2)})})}var J=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={number:1},b.mainContent=Object(i.a)(Object(i.a)(n)),n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"changeState",value:function(e){this.setState({number:parseInt(e)})}},{key:"render",value:function(){return 1===this.state.number?u.a.createElement("div",null,u.a.createElement("h1",null,"IBM things"),u.a.createElement("hr",null),u.a.createElement("h3",{onClick:K,id:"changeColorBtn",className:"text-right",style:{cursor:"pointer"}},"\u25d1"),u.a.createElement(E,null)):u.a.createElement("div",null,u.a.createElement("h1",null,"IBM things"),u.a.createElement("hr",null),u.a.createElement("h3",{onClick:K,id:"changeColorBtn",className:"text-right",style:{cursor:"pointer"}},"\u25d1"),u.a.createElement(x,null))}}]),t}(o.Component);Object(m.render)(u.a.createElement(J,null),document.getElementById("root"));var q="#4a064b",P="#6f96a7";function K(){localStorage.getItem("color")===q?localStorage.setItem("color",P):localStorage.setItem("color",q),document.body.style.background=localStorage.getItem("color")}localStorage.getItem("color")||localStorage.setItem("color",q),document.body.style.background=localStorage.getItem("color")},9:function(e,t,n){e.exports=n(15)}},[[9,2,1]]]);
//# sourceMappingURL=main.201f910e.chunk.js.map